# HubSpot_Resources
**Bulk Remove Contact Associations**
While using HubSpot, I needed to bulk remove hundreds of contacts from a single company record. Some quick googling made it obvious that this has been a frustration for HubSpot users for years. Although I have almost no coding experience, I knew there had to be a way to make this happen with a custom code workflow. So, I used some AI tools, my limited knowledge, HubSpot's API documentation, and some AI tools to figure it out. Here is what is required:
1. You need a private app in your HubSpot instance with the correctly scoped permissions. If you're not sure how to go about this, get with your HubSpot admin. This API requires only read/write permission for the Contact and Company objects.
2. Once you have your private app setup, create a custom workflow with no automatic triggers. Whether you allow companies to re-enroll or not is optional, but since this workflow will only be triggered manually, I was comfortable allowing it.
3. The workflow only needs a single action: custom code. First, make sure you have chosen Python for the custom code langue. Second, make sure the code has access to your private app's API key using a secret. Use the "Manage Secrets" options direclty in the custom code action to give your key a name and make it accessible to the code. This is as easy as typing in a name that makes sense for you and pasting the auth token from your private app. The code I've shared expects this key to be named "salty_breakfast". Finally, you want to pass the Record ID of the company you are going to send through this workflow into the code. You can do this with the Property to Include in Code options direclty on the custom workflow. Simply give this data point a name and select the Record ID for the company enrolled in the workflow from the dropdown of available properties. The code I've shared expects this to be named "companyID".
4. Once you have this context set up, copy the code I've shared and paste it into the code section in the custom code action.
5. Replace "salty_breakfast" with the name you entered for your API key and "companyID" with the name you gave the Record ID property. (You want to replace the text inside the quotes, but leave the quotes.)
6. At this point, you should be good to go, but it's always good to test the code. Keep in mind that the test will trigger real changes on whatever company you run through the workflow, so do NOT run this workflow - even as a test - on any company whose contact associations you are not wanting to lose.
